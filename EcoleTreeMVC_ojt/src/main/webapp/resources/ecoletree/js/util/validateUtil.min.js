if(!$){console.error("jQuery is null or jQuery's namespace is crashed. This Util need jQuery plugin.")}else if(!_){console.error("lodash util plugin is null or '_' overwrite other value. This Util need lodash plugin.")}else if(!$.validator){console.error("$.validator plugin is null. This Util need jQuery validator plugin.")}else{"use strict";if((window.navigator.userAgent.indexOf("MSIE ")!=-1)||(window.navigator.userAgent.indexOf("Trident")!=-1)){console.log("Thie browser is IE");$.validator.addMethod("date",function(a,b,c){var d=a.replace(/\./g,"-");return this.optional(b)||!/Invalid|NaN/.test(new Date(d).toString())},"날짜를 입력해 주세요")}$.validator.addMethod("requiredText",function(a,b,c){return a.trim()!=""},"문자열을 입력해 주세요");$.validator.addMethod("requiredMaxlengthText",function(a,b,c){a=(a+"").trim().replace(/(\r)*\n/g,'<br>');return a!=""&&a.length<=$(b).prop("maxlength")},"값이 입력되지 않았거나, 길이가 너무 깁니다");$.validator.addMethod("maxlengthText",function(a,b,c){return(a+"").trim().replace(/(\r)*\n/g,'<br>').length<=$(b).prop("maxlength")},"문자열의 길이가 너무 깁니다");function ETValidate(a,b,c,d,e,f){if(!(this instanceof ETValidate)){return new ETValidate(a,b,c,d,e,f)}this.__private.init(a,b,c,d,f)};ETValidate.constructor=ETValidate;ETValidate.addType=function(d,e,f){$.validator.addMethod(d,function(a,b,c){return this.optional(b)||new RegExp(e,"g").test(a)},f)};ETValidate.addMethod=function(a,b,c,d){if(d===true){c=$.validator.format(c)}$.validator.addMethod(a,b,c)};ETValidate.isString=function(a,b){var c=_.isString(a);if(b!==true&&a===""){c=false}return c};ETValidate.convertFormToObject=function(d,e,f){var g=$(d).serializeArray();var h;e=e===true;h=_.transform(g,function(a,b){var c=b.value;if(e){c=c.trim()}if(f){c=c.replace(/(\r)*\n/g,'<br>')}_.set(a,b.name,c)},{});return h};ETValidate.convertFormToFormData=function(d,e,f){var g=$(d).serializeArray();var h=new FormData();e=e===true;$.each(g,function(a,b){var c=b.value;if(e){c=c.trim()}if(f){c=c.replace(/(\r)*\n/g,'<br>')}h.append(b.name,c)});return h};ETValidate.brToRN=function(a){if(!a){return""}return(a+"").replace(/\<br\>/g,'\r\n')};ETValidate.showErrorMessage=function(a,b){var c;c=$(b);a.insertAfter(c.parent())};ETValidate.removeAllMessage=function(){$(".showErrorMessage").remove()};ETValidate.prototype={constructor:ETValidate,TYPE_TEXT:"text",TYPE_REQUIRED_TEXT:"requiredText",TYPE_REQUIRED_MAXLENGTH_TEXT:"requiredMaxlengthText",TYPE_MAXLENGTH_TEXT:"maxlengthText",TYPE_EMAIL:"email",TYPE_URL:"url",TYPE_DATE:"date",TYPE_DATEISO:"dateISO",TYPE_NUMBER:"number",TYPE_DIGITS:"digits",TYPE_CREDITYPE_TCARD:"creditcard",__private:(function(){var j,_validate;var k=function(c,d,e,f,g,h){var i;_validate={};if(!ETValidate.isString(c)){c="form"}else if(c.charAt(0)!=="#"){c="#"+c}_validate.ignore=":disabled";_validate.onfocusout=f!==false?undefined:false;_validate.onkeyup=g!==false?undefined:false;_validate.debug=(h===true);_validate.rules={};_validate.messages={};i=ETValidate.isString(d)?getContextPath()+d:"";e=(e==="post"||e==="get")?e:"post";j=$(c).prop("method",e).prop("action",i);j.find("input,textarea,select").each(function(a){var b=$(this).attr("name");if(!!b){_validate.rules[b]={};_validate.messages[b]={}}})};var l=function(a,b,c,d,e){var f;if(_.isObject(_validate.rules[a])){f={};f[b]=c;$.extend(_validate.rules[a],f);if(_.isObject(_validate.messages[a])){if(ETValidate.isString(d)){f={};if(e===true){d=$.validator.format(d)}f[b]=d;$.extend(_validate.messages[a],f)}else if(_.isFunction(d)){f={};f[b]=d;$.extend(_validate.messages[a],f)}}}};return{init:k,setItemOption:l,setOption:function(a,b,c){if(!!c&&b===true){b=undefined}_validate[a]=b},setType:function(a,b,c,d){if(b==="text"||(c===false&&_.isNil(_validate.rules[b]))){return}l(a,b,c,d)},setRules:function(a){_validate.rules=a},setMessages:function(a){_validate.messages=a},getForm:function(){return j},getValidate:function(){return _validate},}}()),setRules:function(a){var b=this;b.__private.setRules(a);b.apply();return b},setMessages:function(a){var b=this;b.__private.setMessages(a);b.apply();return b},setSubmitHandler:function(a){var b=this;b.__private.setOption("submitHandler",a);return b},setInvalidHandler:function(a){var b=this;b.__private.setOption("invalidHandler",a);return b},setErrorPlacement:function(a){var b=this;b.__private.setOption("errorPlacement",a);return b},setDebug:function(a){var b=this;b.__private.setOption("debug",a===true);return b},setOnfocusout:function(a){var b=this;b.__private.setOption("onfocusout",a,true);return b},setOnkeyup:function(a){var b=this;b.__private.setOption("onkeyup",a,true);return b},setType:function(a,b,c){var d=this;var e=d.__private;var f;for(f in d.TYPE){e.setType(a,d.TYPE[f],false)}e.setType(a,b,true,c);return d},setRequired:function(a,b,c){var d=this;d.__private.setItemOption(a,"required",b,c);return d},setEqualTo:function(a,b,c){var d=this;d.__private.setItemOption(a,"equalTo",b,c);return d},setMaxlength:function(a,b,c,d){var e=this;e.__private.setItemOption(a,"maxlength",b,c,d!==false);_fn.getForm().find('[name="'+a+'"]').prop("maxlength",b);return e},setRangelength:function(a,b,c,d){var e=this;var f=e.__private;var g;if(_.isArray(b)&&b.length==2){f.setItemOption(a,"rangelength",b,c,d!==false);g=f.getForm().find('[name="'+a+'"]');g.prop("maxlength",b[1])}else{console.error("rangelength is not Array or rangelength.length is not 2")}return e},setRange:function(a,b,c,d){var e=this;e.__private.setItemOption(a,"range",b,c,d,d!==false);return e},apply:function(){var a=this;var b=a.__private;b.getForm().validate(b.getValidate());return a},run:function(){var a=this;a.__private.getForm().valid()},getValidator:function(){var a=this;return a.__private.getForm().validate()},}}